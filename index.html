<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>منيو قشطة وعسل</title>
  <!-- Preload لصورة الخلفية -->
  <link rel="preload" as="image" href="https://i.imgur.com/PDgHN0A.png">
  <!-- إضافة خط "Cairo" -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
  <!-- إضافة Font Awesome للأيقونات -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-pXYH5X5ED+PtE5wZymz/Uu4Wh9Jg+gZ0+1Z9xdM2Y6p+CnHq7s3X59+VxF2FE3UlPKzE0czNwA83jE5bM4Q3Uw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* إعدادات عامة */
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      overflow: hidden;
      background: #f0f0f0;
    }
    /* شاشة الاستقبال */
    #splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 10;
    }
    #splash-screen::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: url('https://i.imgur.com/PDgHN0A.png') center/cover no-repeat;
      animation: bgFadeOut 3s ease-out 2s forwards;
      z-index: -1;
    }
    .logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .main-logo {
      max-width: 40%;
      height: auto;
      /* انيميشن: fadeIn, bounce, fadeOut */
      animation: fadeIn 2s ease-in, bounce 3s infinite ease-in-out, fadeOut 1s ease-out 4s forwards;
    }
    .second-logo {
      position: absolute;
      bottom: 10px;
      left: 10px;
      max-width: 10%;
      height: auto;
      opacity: 0;
      animation: fadeInMin 1s ease-in 1.5s forwards;
    }
    .loading-text {
      margin-top: 20px;
      font-size: 1.2rem;
      color: #333;
    }
    .loading-text .dot {
      opacity: 0;
      animation: blink 1.5s infinite;
    }
    .loading-text .dot:nth-child(2) { animation-delay: 0.3s; }
    .loading-text .dot:nth-child(3) { animation-delay: 0.6s; }
    @keyframes blink {
      0%, 20% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }
    @keyframes fadeIn { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
    @keyframes fadeInMin { 0% { opacity: 0; transform: scale(0.95); } 100% { opacity: 1; transform: scale(1); } }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    @keyframes bgFadeOut { 0% { opacity: 1; } 100% { opacity: 0; } }
    @keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; } }
    /* حاوية عرض المنيو */
    #menu-container {
      display: none;
      width: 100%;
      height: 100vh;
      overflow-y: auto;
      background: url('https://example.com/your-background-image.jpg') no-repeat center center fixed;
      background-size: cover;
    }
    #pdf-container { padding-bottom: 20px; }
    /* عرض صفحات PDF تملأ الشاشة بالكامل */
    .pdf-page {
      display: block;
      margin: 0 auto;
      background: transparent;
    }
    canvas {
      display: block;
      width: 100%;
      height: auto;
      border: none;
      background: transparent;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }
    @media (max-width: 768px) {
      .main-logo { max-width: 70%; }
      .second-logo { max-width: 15%; bottom: 5px; left: 5px; }
      .loading-text { font-size: 1rem; }
      #contact-buttons a { padding: 4px; }
      .contact-logo { height: 18px; }
    }
    /* أزرار التواصل: تظهر في أقصى اليمين في الأسفل على نفس مستوى زر المصمم */
    #contact-buttons {
      position: fixed;
      bottom: 10px;
      right: 20px;
      display: flex;
      flex-direction: row;
      gap: 5px;
      z-index: 20;
    }
    /* تصميم أزرار التواصل كأيقونات فقط مع انيميشن دوران بسيط */
    .contact-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      padding: 4px;
      border-radius: 50%;
      transition: transform 0.2s ease-in-out;
    }
    .contact-btn:hover { transform: scale(1.1); }
    .contact-logo {
      height: 32px;
      width: auto;
      display: block;
      animation: rotatePulse 2s infinite ease-in-out;
    }
    @keyframes rotatePulse {
      0% { transform: rotate(0deg); }
      50% { transform: rotate(10deg); }
      100% { transform: rotate(0deg); }
    }
    /* زر المصمم مع نص "designed by" فوقه */
    #designer-button {
      position: fixed;
      bottom: 10px;
      left: 10px;
      z-index: 30;
      display: none;
      text-align: center;
    }
    #designer-button .designer-text {
      font-size: 0.5rem;
      color: #333;
      margin-bottom: 2px;
    }
    #designer-button a img {
      height: 40px;
      width: auto;
      cursor: pointer;
      transition: transform 0.3s;
      filter: drop-shadow(0px 0px 4px rgba(0,0,0,0.8));
    }
    #designer-button a img:hover { transform: scale(1.1); }
    @keyframes buttonPulse {
      0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0,0,0,0.2); }
      50% { transform: scale(1.1); box-shadow: 0 0 15px 5px rgba(0,0,0,0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0,0,0,0); }
    }
    /* نافذة Modal لعرض الصورة المكبرة مع اسم الصنف */
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    #modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      text-align: center;
      background: #fff;
      padding: 10px;
      border-radius: 5px;
    }
    #modal-image {
      max-width: 100%;
      max-height: 80vh;
      display: block;
      margin: 0 auto;
    }
    #modal-caption {
      margin-top: 10px;
      font-size: 1.2rem;
      color: #333;
    }
    #modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #fff;
      border: none;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- شاشة الاستقبال -->
  <div id="splash-screen">
    <div class="logo-container">
      <img class="main-logo" src="https://i.imgur.com/eCo7Ams.png" alt="لوجو المطعم" loading="lazy">
      <img class="second-logo" src="https://i.imgur.com/PNYGCQt.png" alt="لوجو إضافي" loading="lazy">
    </div>
    <div class="loading-text">
      جارى عرض المنيو<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
    </div>
  </div>
  
  <!-- حاوية عرض المنيو (PDF) -->
  <div id="menu-container">
    <div id="pdf-container"></div>
  </div>
  
  <!-- أزرار التواصل (في أقصى اليمين بالأسفل) -->
  <div id="contact-buttons">
    <a href="https://www.facebook.com/kshtaw3asl2" class="contact-btn facebook">
      <img src="https://i.imgur.com/21Jbxz1.png" alt="Facebook Logo" class="contact-logo">
    </a>
    <a href="https://wa.me/+201019265003" class="contact-btn whatsapp">
      <img src="https://i.imgur.com/2ubOGzW.png" alt="WhatsApp Logo" class="contact-logo">
    </a>
    <a href="https://www.tiktok.com/@eshta.w.asal" class="contact-btn tiktok">
      <img src="https://i.imgur.com/64V1c8k.png" alt="TikTok Logo" class="contact-logo">
    </a>
  </div>
  
  <!-- زر المصمم مع نص "designed by" فوقه (في أسفل اليسار) -->
  <div id="designer-button">
    <div class="designer-text">designed by</div>
    <a href="https://www.facebook.com/profile.php?id=100054792170666">
      <img src="https://i.imgur.com/PNYGCQt.png" alt="Designer Button">
    </a>
  </div>
  
  <!-- نافذة Modal لعرض الصورة المكبرة مع اسم الصنف -->
  <div id="modal-overlay">
    <div id="modal-content">
      <button id="modal-close">X</button>
      <img id="modal-image" src="" alt="Enlarged Image">
      <div id="modal-caption"></div>
    </div>
  </div>
  
  <!-- سكربت شاشة الاستقبال وإظهار زر المصمم بعد 5 ثوانٍ -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      setTimeout(() => {
        document.getElementById('splash-screen').style.display = 'none';
        document.getElementById('menu-container').style.display = 'block';
        document.getElementById('designer-button').style.display = 'block';
      }, 5000);
    });
  </script>
  
  <!-- تحميل مكتبة PDF.js من CDNJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <script>
    if (typeof pdfjsLib === 'undefined') {
      console.error('فشل تحميل مكتبة PDF.js');
    } else {
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js';
    }
    
    // تعريف مصفوفة أسماء الأصناف (13 صنف)
    const productNames = [
      "كيكة دبى",
      "الفنكوش والشقلوبة",
      "عالم الرز بلبن",
      "عالم أم على وميكسات الدفا",
      "عالم البطاطا والسالانكتيه",
      "القشطوطة",
      "دزير كشرى حلو",
      "طواجن السعادة والآيس كوفي",
      "عصائر فريش",
      "ميلك شيك",
      "ميكس جوس وسموزي",
      "يوغرت جوس & آيس كريم & موهيتو",
      "شوكليت جوس"
    ];
    
    // رابط ملف PDF
    const url = 'https://cdn.jsdelivr.net/gh/elghonemy1/2eshta-asal-menu/2eshta%26asal%20menu.pdf';
    const container = document.getElementById('pdf-container');
    
    pdfjsLib.getDocument(url).promise.then(function(pdfDoc) {
      console.log('تم تحميل PDF، عدد الصفحات:', pdfDoc.numPages);
      for (let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++) {
        pdfDoc.getPage(pageNum).then(function(page) {
          let unscaledViewport = page.getViewport({ scale: 1 });
          // استخدام عرض الشاشة بالكامل
          let desiredScale = (window.innerWidth) / unscaledViewport.width;
          let viewport = page.getViewport({ scale: desiredScale });
          
          let canvas = document.createElement('canvas');
          canvas.className = 'pdf-page';
          // تحسين جودة العرض باستخدام devicePixelRatio
          canvas.width = viewport.width * window.devicePixelRatio;
          canvas.height = viewport.height * window.devicePixelRatio;
          canvas.style.width = viewport.width + "px";
          canvas.style.height = viewport.height + "px";
          let ctx = canvas.getContext('2d');
          ctx.setTransform(window.devicePixelRatio, 0, 0, window.devicePixelRatio, 0, 0);
          container.appendChild(canvas);
          
          let renderContext = {
            canvasContext: ctx,
            viewport: viewport
          };
          page.render(renderContext).promise.then(function() {
            console.log('تم عرض الصفحة رقم:', pageNum);
          });
          
          // عند النقر على الصفحة، عرض المودال مع الصورة المكبرة واسم الصنف
          canvas.addEventListener('click', function() {
            const dataURL = canvas.toDataURL();
            document.getElementById('modal-image').src = dataURL;
            document.getElementById('modal-caption').innerText = productNames[pageNum - 1];
            document.getElementById('modal-overlay').style.display = 'flex';
          });
        });
      }
    }).catch(function(error) {
      console.error('خطأ في تحميل الـ PDF:', error);
    });
    
    // إغلاق المودال
    document.getElementById('modal-close').addEventListener('click', function() {
      document.getElementById('modal-overlay').style.display = 'none';
    });
  </script>
</body>
</html>
